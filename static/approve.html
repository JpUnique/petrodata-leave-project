<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Review and approve leave requests in the PetroData Staff Portal"
    />
    <meta name="theme-color" content="#004d40" />
    <title>Approve Leave | PetroData Leave Portal</title>

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap"
      rel="stylesheet"
    />

    <!-- Font Awesome Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />

    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/auth.css" />
    <link rel="stylesheet" href="css/approve.css" />
  </head>

  <body>
    <!-- Background overlay -->
    <div class="background-overlay" aria-hidden="true"></div>

    <main class="auth-container">
      <article class="auth-card approval-card">
        <!-- Accent bar -->
        <div class="accent-bar" aria-hidden="true"></div>

        <!-- Header section -->
        <header class="logo-section">
          <img
            src="assets/newlogo.png"
            alt="PetroData Logo"
            class="main-logo"
            width="150"
            height="150"
          />
          <h1>Leave Approval</h1>
          <p id="sub-header">
            Reviewing request for
            <span id="displayStaffName">...</span>
          </p>
        </header>

        <!-- Approval form -->
        <form class="stylish-form" aria-label="Leave approval form">
          <!-- Staff information section -->
          <fieldset>
            <legend class="sr-only">Staff Information</legend>

            <!-- Staff details grid -->
            <div class="info-group">
              <div class="display-wrapper">
                <label for="displayStaffNo">
                  <i class="fas fa-id-badge" aria-hidden="true"></i>
                  Staff No
                </label>
                <div class="data-field" id="displayStaffNo" aria-live="polite">
                  Loading...
                </div>
              </div>
              <div class="display-wrapper">
                <label for="displayDesignation">
                  <i class="fas fa-briefcase" aria-hidden="true"></i>
                  Designation
                </label>
                <div
                  class="data-field"
                  id="displayDesignation"
                  aria-live="polite"
                >
                  Loading...
                </div>
              </div>
            </div>

            <!-- Department -->
            <div class="display-wrapper full-width">
              <label for="displayDept">
                <i class="fas fa-building" aria-hidden="true"></i>
                Department
              </label>
              <div class="data-field" id="displayDept" aria-live="polite">
                Loading...
              </div>
            </div>
          </fieldset>

          <!-- Leave details section -->
          <fieldset>
            <legend class="sr-only">Leave Details</legend>

            <!-- Leave type and duration -->
            <div class="info-group">
              <div class="display-wrapper">
                <label for="displayType">
                  <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                  Leave Type
                </label>
                <div class="data-field" id="displayType" aria-live="polite">
                  Loading...
                </div>
              </div>
              <div class="display-wrapper">
                <label for="displayTotalDays">
                  <i class="fas fa-clock" aria-hidden="true"></i>
                  Duration
                </label>
                <div
                  class="data-field"
                  id="displayTotalDays"
                  aria-live="polite"
                >
                  Loading...
                </div>
              </div>
            </div>

            <!-- Dates -->
            <div class="display-wrapper full-width">
              <label>
                <i class="fas fa-calendar-day" aria-hidden="true"></i>
                Approval Dates
              </label>
              <div class="data-field" aria-live="polite">
                <span id="displayStart">...</span>
                <i
                  class="fas fa-arrow-right"
                  aria-hidden="true"
                  style="font-size: 0.8rem; margin: 0 10px; color: #888"
                ></i>
                <span id="displayEnd">...</span>
              </div>
            </div>

            <!-- Relief staff -->
            <div class="display-wrapper full-width">
              <label for="displayRelief">
                <i class="fas fa-user-shield" aria-hidden="true"></i>
                Relief Staff
              </label>
              <div class="data-field" id="displayRelief" aria-live="polite">
                Loading...
              </div>
            </div>

            <!-- Contact address -->
            <div class="display-wrapper full-width">
              <label for="displayAddress">
                <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
                Contact Address
              </label>
              <div class="data-field" id="displayAddress" aria-live="polite">
                Loading...
              </div>
            </div>
          </fieldset>

          <!-- Status and action section -->
          <fieldset>
            <legend class="sr-only">Approval Actions</legend>

            <!-- Current status -->
            <div class="display-wrapper full-width">
              <label for="currentStatus">
                <i class="fas fa-info-circle" aria-hidden="true"></i>
                Current Status
              </label>
              <div class="data-field" id="currentStatus" aria-live="polite">
                loading...
              </div>
            </div>

            <!-- Status message -->
            <div
              id="statusMessage"
              class="status-banner hidden"
              role="status"
              aria-live="polite"
              aria-atomic="true"
            ></div>

            <!-- HR Email forwarding -->
            <div class="display-wrapper full-width" id="hrEmailContainer">
              <label for="hrEmail">
                <i class="fas fa-envelope-open-text" aria-hidden="true"></i>
                Forward to HR (Email)
              </label>
              <div class="input-wrapper">
                <i class="fas fa-user-tie" aria-hidden="true"></i>
                <input
                  type="email"
                  id="hrEmail"
                  name="hrEmail"
                  placeholder="hr.manager@petrodata.net"
                  aria-label="HR Manager email address"
                />
              </div>
            </div>

            <!-- Action buttons -->
            <div id="actionButtons" class="approval-actions">
              <button
                id="approveBtn"
                type="button"
                class="btn-action btn-approve"
                aria-label="Approve this leave request"
              >
                Approve
                <i class="fas fa-check-circle" aria-hidden="true"></i>
              </button>
              <button
                id="rejectBtn"
                type="button"
                class="btn-action btn-reject"
                aria-label="Reject this leave request"
              >
                Reject
                <i class="fas fa-times-circle" aria-hidden="true"></i>
              </button>
            </div>
          </fieldset>
        </form>

        <!-- Footer section -->
        <footer class="auth-footer">
          <p>PetroData Management System &copy; 2026</p>
        </footer>
      </article>
    </main>

    <!-- Scripts -->
    <script src="js/approve.js" defer></script>
  </body>
</html>
